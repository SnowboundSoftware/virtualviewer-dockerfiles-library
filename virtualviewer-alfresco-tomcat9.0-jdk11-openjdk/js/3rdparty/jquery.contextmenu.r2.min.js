!function(e){function n(){t.hide(),o.hide()}var t,o,i,d,s={menuStyle:{listStyle:"none",padding:"1px",margin:"0px",backgroundColor:"#fff",border:"1px solid #999",width:"100px"},itemStyle:{margin:"0px",color:"#000",display:"block",cursor:"default",padding:"3px",border:"1px solid #fff",backgroundColor:"transparent"},itemHoverStyle:{border:"1px solid #0a246a",backgroundColor:"#b6bdd2"},eventPosX:"pageX",eventPosY:"pageY",shadow:!1,onContextMenu:null,onShowMenu:null};e.fn.contextMenu=function(u,l){t||(t=e('<div id="jqContextMenu"></div>').hide().css({position:"absolute",zIndex:"500"}).appendTo("body").bind("click",function(e){e.stopPropagation()})),o||(o=e('<div id="jqContextMenuShadow"></div>').css({backgroundColor:"#000",position:"absolute",opacity:.2,zIndex:499}).appendTo("body").hide()),l.offsetHeight||(l.offsetHeight=192),(d=d||[]).push({id:u,offsetHeight:l.offsetHeight,menuStyle:e.extend({},s.menuStyle,l.menuStyle||{}),itemStyle:e.extend({},s.itemStyle,l.itemStyle||{}),itemHoverStyle:e.extend({},s.itemHoverStyle,l.itemHoverStyle||{}),bindings:l.bindings||{},shadow:l.shadow||!1===l.shadow?l.shadow:s.shadow,onContextMenu:l.onContextMenu||s.onContextMenu,onShowMenu:l.onShowMenu||s.onShowMenu,eventPosX:l.eventPosX||s.eventPosX,eventPosY:l.eventPosY||s.eventPosY}),l.bindTarget||(l.bindTarget="contextmenu");var h=d.length-1;return e(this).bind(l.bindTarget,function(s){return(!d[h].onContextMenu||d[h].onContextMenu(s))&&function(s,u,l,h){var c=d[s];(i=e("#"+c.id).find("ul:first").clone(!0)).css(c.menuStyle).find("li").css(c.itemStyle).hover(function(){e(this).css(c.itemHoverStyle)},function(){e(this).css(c.itemStyle)}).find("img").css({verticalAlign:"middle",paddingRight:"2px"}),t.html(i),c.onShowMenu&&(t=c.onShowMenu(l,t)),e.each(c.bindings,function(o,i){e("#"+o,t).bind("click",function(e){n(),i(u,void 0)})});var a=0,r=0,f=window.innerWidth||document.documentElement.clientWidth,g=window.innerHeight||document.documentElement.clientHeight;l[c.eventPosX]+100>f&&(a=100),l[c.eventPosY]+c.offsetHeight>g&&(r=c.offsetHeight);var p=l[c.eventPosX]-a,v=Math.max(l[c.eventPosY]-r,0);v+c.offsetHeight>g&&t.find("ul").css({height:g,"overflow-y":"auto"}),t.css({left:p,top:v}).show(),c.shadow&&o.css({width:t.width(),height:t.height(),left:l.pageX+2-a,top:l.pageY+2-r}).show(),e(document).one("click",n)}(h,this,s),!1}),this},e.contextMenu={defaults:function(n){e.each(n,function(n,t){"object"==typeof t&&s[n]?e.extend(s[n],t):s[n]=t})}}}(jQuery),$(function(){$("div.contextMenu").hide()});